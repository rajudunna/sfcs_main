/*#3771 Alter view*/

USE bai_pro3;

ALTER VIEW  bai_pro3.order_cat_doc_mk_mix AS (
SELECT `order_cat_doc_mix`.`catyy` AS `catyy`,`order_cat_doc_mix`.`org_doc_no` AS `org_doc_no`,`order_cat_doc_mix`.`cat_patt_ver` AS `cat_patt_ver`,`maker_stat_log`.`remarks` AS `mk_file`,`maker_stat_log`.`mk_ver` AS `mk_ver`,`maker_stat_log`.`mklength` AS `mklength`,`order_cat_doc_mix`.`style_id` AS `style_id`,`order_cat_doc_mix`.`col_des` AS `col_des`,`order_cat_doc_mix`.`gmtway` AS `gmtway`,`order_cat_doc_mix`.`strip_match` AS `strip_match`,`order_cat_doc_mix`.`fab_des` AS `fab_des`,`order_cat_doc_mix`.`clubbing` AS `clubbing`,`order_cat_doc_mix`.`date` AS `date`,`order_cat_doc_mix`.`cat_ref` AS `cat_ref`,`order_cat_doc_mix`.`compo_no` AS `compo_no`,`order_cat_doc_mix`.`cuttable_ref` AS `cuttable_ref`,`order_cat_doc_mix`.`allocate_ref` AS `allocate_ref`,`order_cat_doc_mix`.`mk_ref` AS `mk_ref`,`order_cat_doc_mix`.`order_tid` AS `order_tid`,`order_cat_doc_mix`.`pcutno` AS `pcutno`,`order_cat_doc_mix`.`ratio` AS `ratio`,`order_cat_doc_mix`.`p_xs` AS `p_xs`,`order_cat_doc_mix`.`p_s` AS `p_s`,`order_cat_doc_mix`.`p_m` AS `p_m`,`order_cat_doc_mix`.`p_l` AS `p_l`,`order_cat_doc_mix`.`p_xl` AS `p_xl`,`order_cat_doc_mix`.`p_xxl` AS `p_xxl`,`order_cat_doc_mix`.`p_xxxl` AS `p_xxxl`,`order_cat_doc_mix`.`p_plies` AS `p_plies`,`order_cat_doc_mix`.`doc_no` AS `doc_no`,`order_cat_doc_mix`.`acutno` AS `acutno`,`order_cat_doc_mix`.`a_xs` AS `a_xs`,`order_cat_doc_mix`.`a_s` AS `a_s`,`order_cat_doc_mix`.`a_m` AS `a_m`,`order_cat_doc_mix`.`a_l` AS `a_l`,`order_cat_doc_mix`.`a_xl` AS `a_xl`,`order_cat_doc_mix`.`a_xxl` AS `a_xxl`,`order_cat_doc_mix`.`a_xxxl` AS `a_xxxl`,`order_cat_doc_mix`.`a_plies` AS `a_plies`,`order_cat_doc_mix`.`lastup` AS `lastup`,`order_cat_doc_mix`.`remarks` AS `remarks`,`order_cat_doc_mix`.`act_cut_status` AS `act_cut_status`,`order_cat_doc_mix`.`act_cut_issue_status` AS `act_cut_issue_status`,`order_cat_doc_mix`.`pcutdocid` AS `pcutdocid`,`order_cat_doc_mix`.`print_status` AS `print_status`,`order_cat_doc_mix`.`a_s01` AS `a_s01`,`order_cat_doc_mix`.`a_s02` AS `a_s02`,`order_cat_doc_mix`.`a_s03` AS `a_s03`,`order_cat_doc_mix`.`a_s04` AS `a_s04`,`order_cat_doc_mix`.`a_s05` AS `a_s05`,`order_cat_doc_mix`.`a_s06` AS `a_s06`,`order_cat_doc_mix`.`a_s07` AS `a_s07`,`order_cat_doc_mix`.`a_s08` AS `a_s08`,`order_cat_doc_mix`.`a_s09` AS `a_s09`,`order_cat_doc_mix`.`a_s10` AS `a_s10`,`order_cat_doc_mix`.`a_s11` AS `a_s11`,`order_cat_doc_mix`.`a_s12` AS `a_s12`,`order_cat_doc_mix`.`a_s13` AS `a_s13`,`order_cat_doc_mix`.`a_s14` AS `a_s14`,`order_cat_doc_mix`.`a_s15` AS `a_s15`,`order_cat_doc_mix`.`a_s16` AS `a_s16`,`order_cat_doc_mix`.`a_s17` AS `a_s17`,`order_cat_doc_mix`.`a_s18` AS `a_s18`,`order_cat_doc_mix`.`a_s19` AS `a_s19`,`order_cat_doc_mix`.`a_s20` AS `a_s20`,`order_cat_doc_mix`.`a_s21` AS `a_s21`,`order_cat_doc_mix`.`a_s22` AS `a_s22`,`order_cat_doc_mix`.`a_s23` AS `a_s23`,`order_cat_doc_mix`.`a_s24` AS `a_s24`,`order_cat_doc_mix`.`a_s25` AS `a_s25`,`order_cat_doc_mix`.`a_s26` AS `a_s26`,`order_cat_doc_mix`.`a_s27` AS `a_s27`,`order_cat_doc_mix`.`a_s28` AS `a_s28`,`order_cat_doc_mix`.`a_s29` AS `a_s29`,`order_cat_doc_mix`.`a_s30` AS `a_s30`,`order_cat_doc_mix`.`a_s31` AS `a_s31`,`order_cat_doc_mix`.`a_s32` AS `a_s32`,`order_cat_doc_mix`.`a_s33` AS `a_s33`,`order_cat_doc_mix`.`a_s34` AS `a_s34`,`order_cat_doc_mix`.`a_s35` AS `a_s35`,`order_cat_doc_mix`.`a_s36` AS `a_s36`,`order_cat_doc_mix`.`a_s37` AS `a_s37`,`order_cat_doc_mix`.`a_s38` AS `a_s38`,`order_cat_doc_mix`.`a_s39` AS `a_s39`,`order_cat_doc_mix`.`a_s40` AS `a_s40`,`order_cat_doc_mix`.`a_s41` AS `a_s41`,`order_cat_doc_mix`.`a_s42` AS `a_s42`,`order_cat_doc_mix`.`a_s43` AS `a_s43`,`order_cat_doc_mix`.`a_s44` AS `a_s44`,`order_cat_doc_mix`.`a_s45` AS `a_s45`,`order_cat_doc_mix`.`a_s46` AS `a_s46`,`order_cat_doc_mix`.`a_s47` AS `a_s47`,`order_cat_doc_mix`.`a_s48` AS `a_s48`,`order_cat_doc_mix`.`a_s49` AS `a_s49`,`order_cat_doc_mix`.`a_s50` AS `a_s50`,`order_cat_doc_mix`.`p_s01` AS `p_s01`,`order_cat_doc_mix`.`p_s02` AS `p_s02`,`order_cat_doc_mix`.`p_s03` AS `p_s03`,`order_cat_doc_mix`.`p_s04` AS `p_s04`,`order_cat_doc_mix`.`p_s05` AS `p_s05`,`order_cat_doc_mix`.`p_s06` AS `p_s06`,`order_cat_doc_mix`.`p_s07` AS `p_s07`,`order_cat_doc_mix`.`p_s08` AS `p_s08`,`order_cat_doc_mix`.`p_s09` AS `p_s09`,`order_cat_doc_mix`.`p_s10` AS `p_s10`,`order_cat_doc_mix`.`p_s11` AS `p_s11`,`order_cat_doc_mix`.`p_s12` AS `p_s12`,`order_cat_doc_mix`.`p_s13` AS `p_s13`,`order_cat_doc_mix`.`p_s14` AS `p_s14`,`order_cat_doc_mix`.`p_s15` AS `p_s15`,`order_cat_doc_mix`.`p_s16` AS `p_s16`,`order_cat_doc_mix`.`p_s17` AS `p_s17`,`order_cat_doc_mix`.`p_s18` AS `p_s18`,`order_cat_doc_mix`.`p_s19` AS `p_s19`,`order_cat_doc_mix`.`p_s20` AS `p_s20`,`order_cat_doc_mix`.`p_s21` AS `p_s21`,`order_cat_doc_mix`.`p_s22` AS `p_s22`,`order_cat_doc_mix`.`p_s23` AS `p_s23`,`order_cat_doc_mix`.`p_s24` AS `p_s24`,`order_cat_doc_mix`.`p_s25` AS `p_s25`,`order_cat_doc_mix`.`p_s26` AS `p_s26`,`order_cat_doc_mix`.`p_s27` AS `p_s27`,`order_cat_doc_mix`.`p_s28` AS `p_s28`,`order_cat_doc_mix`.`p_s29` AS `p_s29`,`order_cat_doc_mix`.`p_s30` AS `p_s30`,`order_cat_doc_mix`.`p_s31` AS `p_s31`,`order_cat_doc_mix`.`p_s32` AS `p_s32`,`order_cat_doc_mix`.`p_s33` AS `p_s33`,`order_cat_doc_mix`.`p_s34` AS `p_s34`,`order_cat_doc_mix`.`p_s35` AS `p_s35`,`order_cat_doc_mix`.`p_s36` AS `p_s36`,`order_cat_doc_mix`.`p_s37` AS `p_s37`,`order_cat_doc_mix`.`p_s38` AS `p_s38`,`order_cat_doc_mix`.`p_s39` AS `p_s39`,`order_cat_doc_mix`.`p_s40` AS `p_s40`,`order_cat_doc_mix`.`p_s41` AS `p_s41`,`order_cat_doc_mix`.`p_s42` AS `p_s42`,`order_cat_doc_mix`.`p_s43` AS `p_s43`,`order_cat_doc_mix`.`p_s44` AS `p_s44`,`order_cat_doc_mix`.`p_s45` AS `p_s45`,`order_cat_doc_mix`.`p_s46` AS `p_s46`,`order_cat_doc_mix`.`p_s47` AS `p_s47`,`order_cat_doc_mix`.`p_s48` AS `p_s48`,`order_cat_doc_mix`.`p_s49` AS `p_s49`,`order_cat_doc_mix`.`p_s50` AS `p_s50`,`order_cat_doc_mix`.`rm_date` AS `rm_date`,`order_cat_doc_mix`.`cut_inp_temp` AS `cut_inp_temp`,`order_cat_doc_mix`.`plan_module` AS `plan_module`,`order_cat_doc_mix`.`category` AS `category`,`order_cat_doc_mix`.`color_code` AS `color_code`,`order_cat_doc_mix`.`fabric_status` AS `fabric_status`,ROUND(`order_cat_doc_mix`.`a_plies` * `maker_stat_log`.`mklength` * (1 + (  if(`cuttable_stat_log`.`cuttable_wastage`,`cuttable_stat_log`.`cuttable_wastage`,0))),2) + (`order_cat_doc_mix`.`a_xs` + `order_cat_doc_mix`.`a_s` + `order_cat_doc_mix`.`a_m` + `order_cat_doc_mix`.`a_l` + `order_cat_doc_mix`.`a_xl` + `order_cat_doc_mix`.`a_xxl` + `order_cat_doc_mix`.`a_xxxl` + `order_cat_doc_mix`.`a_s01` + `order_cat_doc_mix`.`a_s02` + `order_cat_doc_mix`.`a_s03` + `order_cat_doc_mix`.`a_s04` + `order_cat_doc_mix`.`a_s05` + `order_cat_doc_mix`.`a_s06` + `order_cat_doc_mix`.`a_s07` + `order_cat_doc_mix`.`a_s08` + `order_cat_doc_mix`.`a_s09` + `order_cat_doc_mix`.`a_s10` + `order_cat_doc_mix`.`a_s11` + `order_cat_doc_mix`.`a_s12` + `order_cat_doc_mix`.`a_s13` + `order_cat_doc_mix`.`a_s14` + `order_cat_doc_mix`.`a_s15` + `order_cat_doc_mix`.`a_s16` + `order_cat_doc_mix`.`a_s17` + `order_cat_doc_mix`.`a_s18` + `order_cat_doc_mix`.`a_s19` + `order_cat_doc_mix`.`a_s20` + `order_cat_doc_mix`.`a_s21` + `order_cat_doc_mix`.`a_s22` + `order_cat_doc_mix`.`a_s23` + `order_cat_doc_mix`.`a_s24` + `order_cat_doc_mix`.`a_s25` + `order_cat_doc_mix`.`a_s26` + `order_cat_doc_mix`.`a_s27` + `order_cat_doc_mix`.`a_s28` + `order_cat_doc_mix`.`a_s29` + `order_cat_doc_mix`.`a_s30` + `order_cat_doc_mix`.`a_s31` + `order_cat_doc_mix`.`a_s32` + `order_cat_doc_mix`.`a_s33` + `order_cat_doc_mix`.`a_s34` + `order_cat_doc_mix`.`a_s35` + `order_cat_doc_mix`.`a_s36` + `order_cat_doc_mix`.`a_s37` + `order_cat_doc_mix`.`a_s38` + `order_cat_doc_mix`.`a_s39` + `order_cat_doc_mix`.`a_s40` + `order_cat_doc_mix`.`a_s41` + `order_cat_doc_mix`.`a_s42` + `order_cat_doc_mix`.`a_s43` + `order_cat_doc_mix`.`a_s44` + `order_cat_doc_mix`.`a_s45` + `order_cat_doc_mix`.`a_s46` + `order_cat_doc_mix`.`a_s47` + `order_cat_doc_mix`.`a_s48` + `order_cat_doc_mix`.`a_s49` + `order_cat_doc_mix`.`a_s50`) * `order_cat_doc_mix`.`a_plies` * `fn_know_binding_con`(`maker_stat_log`.`order_tid`,`order_cat_doc_mix`.`cat_ref`) AS `material_req`,`order_cat_doc_mix`.`order_del_no` AS `order_del_no`,`order_cat_doc_mix`.`order_col_des` AS `order_col_des`,`order_cat_doc_mix`.`plan_lot_ref` AS `plan_lot_ref` FROM ((`order_cat_doc_mix` LEFT JOIN `maker_stat_log` ON(`order_cat_doc_mix`.`mk_ref` = `maker_stat_log`.`tid`)) LEFT JOIN `cuttable_stat_log` ON(`cuttable_stat_log`.`cat_id` = `order_cat_doc_mix`.`cat_ref`)));
